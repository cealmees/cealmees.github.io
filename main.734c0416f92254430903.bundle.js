webpackJsonp([1,4],{124:function(e,t,n){"use strict";var r=n(0),o=n(46),a=n(729),i=n(2),s=(n.n(i),n(548)),c=(n.n(s),n(99));n.n(c);n.d(t,"a",function(){return l});var u=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.http=e,this.bandsURL="https://raw.githubusercontent.com/cealmees/Angular2-training/master/src/app/BANDS.json"}return e.prototype.extractData=function(e){var t=e.json();return console.log(t),t},e.prototype.handleError=function(e){var t;if(e instanceof o.Response){var n=e.json()||"",r=n.error||JSON.stringify(n);t=e.status+" - "+(e.statusText||"")+" "+r}else t=e.message?e.message:e.toString();return console.error(t),i.Observable.throw(t)},e.prototype.getBands=function(){return this.http.get(this.bandsURL).map(this.extractData).catch(this.handleError)},e.prototype.getBand=function(e){return this.getBands().map(function(t){return t.find(function(t){return t.id===e})})},e.prototype.getLaggedBands=function(){return new Promise(function(e){return setTimeout(function(){return e(a.a)},300)})},e.prototype.editBand=function(e){var t=a.a.find(function(t){return t.id===e.id});t&&(console.log(t),Object.assign(t,e),console.log(this.clone(a.a)),console.log(a.a))},e.prototype.newBand=function(e){a.a.push(e),console.log(a.a)},e.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))},e=u([n.i(r.Injectable)(),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object])],e);var t}()},125:function(e,t,n){"use strict";var r=n(740);n.d(t,"a",function(){return r.a});var o=n(741);n.d(t,"b",function(){return o.a});var a=n(742);n.d(t,"c",function(){return a.a})},499:function(e,t,n){"use strict";var r=n(0),o=n(48),a=n(7),i=n(914),s=(n.n(i),n(124));n.d(t,"a",function(){return f});var c=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,n){this.bandsService=e,this.route=t,this.location=n}return e.prototype.ngOnInit=function(){var e=this;this.route.params.switchMap(function(t){return e.bandsService.getBand(+t.id)}).subscribe(function(t){return e.band=t})},e.prototype.goBack=function(){this.location.back()},e.prototype.onSelect=function(e){this.currentBand=e},e=c([n.i(r.Component)({inputs:["band"],selector:"my-band-detail",template:n(898)}),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.a&&s.a)&&t||Object,"function"==typeof(i="undefined"!=typeof o.d&&o.d)&&i||Object,"function"==typeof(f="undefined"!=typeof a.c&&a.c)&&f||Object])],e);var t,i,f}()},500:function(e,t,n){"use strict";var r=n(0),o=n(48),a=n(124);n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.router=e,this.bandsService=t}return e.prototype.getBands=function(){var e=this;this.bandsService.getBands().subscribe(function(t){return e.bands=t})},e.prototype.ngOnInit=function(){this.getBands()},e.prototype.onSelect=function(e){this.selectedBand=e,this.router.navigate(["/band/"+this.selectedBand.id])},e=i([n.i(r.Component)({selector:"my-bands",template:n(899)}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object,"function"==typeof(c="undefined"!=typeof a.a&&a.a)&&c||Object])],e);var t,c}()},501:function(e,t,n){"use strict";var r=n(734);n.d(t,"a",function(){return r.a})},502:function(e,t,n){"use strict";var r=n(737);n.d(t,"a",function(){return r.a})},503:function(e,t,n){"use strict";var r=n(738);n.d(t,"a",function(){return r.a})},504:function(e,t,n){"use strict";var r=n(739);n.d(t,"a",function(){return r.a})},505:function(e,t,n){"use strict";var r=n(0),o=n(124),a=n(19),i=n(48);n.d(t,"a",function(){return u});var s=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n){this.router=e,this.service=t,this._fb=n}return e.prototype.saveBand=function(e,t,n,r,o){var a;a.name=n,console.log(a),this.service.newBand(a)},e=s([n.i(r.Component)({selector:"new-band",template:'\n        <div>\n            <label>Id: </label>\n            <div><input #id placeholder="id"></div>\n            <label>Image: </label>\n            <div><input #image placeholder="image"></div>\n            <label>Name: </label>\n            <div><input #name (blur)="addHero(newHero.value)" name.value=\'\' (keyup)="0" placeholder="name"></div>\n            <label>Genre: </label>\n            <div><input #genre placeholder="genre"></div>\n            <label>Members: </label>\n            <div><input #members placeholder="members"></div>\n            <label>Albums: </label>\n            <div><input #albums placeholder="albums"></div>\n                        <p>tu nombre es: {{name.value}}</p>\n\n            <button (click)="saveBand(name.value)">Save</button>\n        </div>      \n        '}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.b&&i.b)&&t||Object,"function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object,"function"==typeof(f="undefined"!=typeof a.e&&a.e)&&f||Object])],e);var t,u,f}()},563:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=563},564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(693),o=n(0),a=n(743),i=n(727);a.a.production&&n.i(o.enableProdMode)(),n.i(r.a)().bootstrapModule(i.a)},726:function(e,t,n){"use strict";var r=n(0),o=n(124);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.title="Music bands"}return e=a([n.i(r.Component)({providers:[o.a],selector:"app-root",template:"\n  <nav-buttons></nav-buttons>\n    <router-outlet></router-outlet>\n  "}),i("design:paramtypes",[])],e)}()},727:function(e,t,n){"use strict";var r=n(65),o=n(0),a=n(19),i=n(46),s=n(499),c=n(731),u=n(674),f=n(500),l=n(726),d=n(723),p=n(728),A=n(730),m=n(894),h=n(505),b=n(736),g=n(380),v=(n.n(g),n(733)),y=n(501),R=n(125),w=n(502),j=n(503),O=n(504);n.d(t,"a",function(){return M});var k=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(){}return e=k([n.i(o.NgModule)({declarations:[l.a,s.a,A.a,v.a,w.a,j.a,O.a,h.a,c.a,f.a],imports:[d.a,r.a,m.a.forRoot(),a.a,a.b,p.a,u.MaterialModule.forRoot(),i.HttpModule],providers:[p.b,y.a,R.a,R.b,R.c,b.a,g.MockBackend,i.BaseRequestOptions],bootstrap:[l.a]}),I("design:paramtypes",[])],e)}()},728:function(e,t,n){"use strict";var r=n(48),o=n(499),a=n(500),i=n(505),s=n(502),c=n(503),u=n(504),f=n(501);n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var l=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"band/:id",component:o.a,canActivate:[f.a]},{path:"catalog",component:a.a,canActivate:[f.a]},{path:"newBand",component:i.a,canActivate:[f.a]},{path:"",component:s.a,canActivate:[f.a]},{path:"login",component:c.a},{path:"register",component:u.a},{path:"**",redirectTo:""}],d=[],p=r.c.forRoot(l)},729:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[{id:1,name:"Metallica",image:"https://pbs.twimg.com/profile_images/766360293953802240/kt0hiSmv.jpg",genre:"Metal",members:["James Hetfield","Lars Ulrich","Roberto Trujillo","Kirk Hammet"],albums:["Master of puppets","Black Album"]},{id:2,name:"Pink Floyd",image:"https://img.discogs.com/RPhPKJ8PWTZCQjs3zU8W8okB4GE=/fit-in/300x300/filters:strip_icc():format(jpeg):mode_rgb():quality(40)/discogs-images/A-45467-1405593302-8633.jpeg.jpg",genre:"Rock",members:["Roger Waters","David Guilmour","Syd Barret","Richard Wright"],albums:["The Dark Side Of The Moon","The Wall","Animals"]},{id:3,name:"A Tribe Called Quest",image:"http://www.nbc.com/the-tonight-show/content/sites/nbcutsjf/files/styles/bit_stacked_resized/public/images/2015/11/06/a-tribe-called-quest.jpg?itok=Ss_g5QJF",genre:"Rap",members:["Q-Tip","Ali Shaheed","Jarobi White"],albums:["The low end theory","We Got It From Here... Thank You 4 Your Service"]}]},730:function(e,t,n){"use strict";var r=n(0),o=n(48);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.route=e,this.router=t}return e.prototype.canActivate=function(){return null==localStorage.getItem("currentUser")},e=a([n.i(r.Component)({selector:"nav-buttons",template:'\n    <tabset type="pills" [hidden]="canActivate()">\n        <button type="button" routerLink="/">Home</button>\n        <button type="button" routerLink="/catalog">Bands Catalog</button>\n        <button type="button" routerLink="/newBand">New Band</button>\n    </tabset> \n  '}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.d&&o.d)&&t||Object,"function"==typeof(s="undefined"!=typeof o.b&&o.b)&&s||Object])],e);var t,s}()},731:function(e,t,n){"use strict";var r=n(0),o=n(124);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.service=e}return e.prototype.onSelect=function(e){this.selectedBand=e,this.editBand()},e.prototype.editBand=function(){console.log(this.selectedBand),this.service.editBand(this.selectedBand)},e=a([n.i(r.Component)({inputs:["band"],selector:"my-band-edit",template:n(897)}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object])],e);var t}()},732:function(e,t,n){"use strict";var r=n(0),o=n(125);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.alertService=e}return e.prototype.ngOnInit=function(){var e=this;this.alertService.getMessage().subscribe(function(t){e.message=t})},e=a([n.i(r.Component)({selector:"alert",template:n(900)}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object])],e);var t}()},733:function(e,t,n){"use strict";var r=n(732);n.d(t,"a",function(){return r.a})},734:function(e,t,n){"use strict";var r=n(0),o=n(48);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e,t){return!!localStorage.getItem("currentUser")||(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)},e=a([n.i(r.Injectable)(),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object])],e);var t}()},735:function(e,t,n){"use strict";function r(e,t,n){var r=JSON.parse(localStorage.getItem("users"))||[];return e.connections.subscribe(function(e){setTimeout(function(){if(e.request.url.endsWith("/api/authenticate")&&e.request.method===o.RequestMethod.Post){var a=JSON.parse(e.request.getBody()),i=r.filter(function(e){return e.username===a.username&&e.password===a.password});if(i.length){var s=i[0];e.mockRespond(new o.Response(new o.ResponseOptions({status:200,body:{id:s.id,username:s.username,firstName:s.firstName,lastName:s.lastName,token:"fake-jwt-token"}})))}else e.mockError(new Error("Username or password is incorrect"))}else{if(e.request.url.endsWith("/api/users")&&e.request.method===o.RequestMethod.Get)return void("Bearer fake-jwt-token"===e.request.headers.get("Authorization")?e.mockRespond(new o.Response(new o.ResponseOptions({status:200,body:r}))):e.mockRespond(new o.Response(new o.ResponseOptions({status:401}))));if(e.request.url.match(/\/api\/users\/\d+$/)&&e.request.method===o.RequestMethod.Get)if("Bearer fake-jwt-token"===e.request.headers.get("Authorization")){var c=e.request.url.split("/"),u=parseInt(c[c.length-1]),f=r.filter(function(e){return e.id===u}),s=f.length?f[0]:null;e.mockRespond(new o.Response(new o.ResponseOptions({status:200,body:s})))}else e.mockRespond(new o.Response(new o.ResponseOptions({status:401})));else{if(e.request.url.endsWith("/api/users")&&e.request.method===o.RequestMethod.Post){var l=JSON.parse(e.request.getBody()),d=r.filter(function(e){return e.username===l.username}).length;return d?e.mockError(new Error('Username "'+l.username+'" is already taken')):(l.id=r.length+1,r.push(l),localStorage.setItem("users",JSON.stringify(r)),void e.mockRespond(new o.Response(new o.ResponseOptions({status:200}))))}if(e.request.url.match(/\/api\/users\/\d+$/)&&e.request.method===o.RequestMethod.Delete)if("Bearer fake-jwt-token"===e.request.headers.get("Authorization")){for(var c=e.request.url.split("/"),p=parseInt(c[c.length-1]),A=0;A<r.length;A++){var s=r[A];if(s.id===p){r.splice(A,1),localStorage.setItem("users",JSON.stringify(r));break}}e.mockRespond(new o.Response(new o.ResponseOptions({status:200})))}else e.mockRespond(new o.Response(new o.ResponseOptions({status:401})));else{var m=new o.Http(n,t),h=new o.RequestOptions({method:e.request.method,headers:e.request.headers,body:e.request.getBody(),url:e.request.url,withCredentials:e.request.withCredentials,responseType:e.request.responseType});m.request(e.request.url,h).subscribe(function(t){e.mockRespond(t)},function(t){e.mockError(t)})}}}},500)}),new o.Http(e,t)}var o=n(46),a=n(380);n.n(a);n.d(t,"a",function(){return i});var i={provide:o.Http,deps:[a.MockBackend,o.BaseRequestOptions,o.XHRBackend],useFactory:r}},736:function(e,t,n){"use strict";var r=n(735);n.d(t,"a",function(){return r.a})},737:function(e,t,n){"use strict";var r=n(0),o=n(125);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.userService=e,this.users=[],this.currentUser=JSON.parse(localStorage.getItem("currentUser"))}return e.prototype.ngOnInit=function(){this.loadAllUsers()},e.prototype.deleteUser=function(e){var t=this;this.userService.delete(e).subscribe(function(){t.loadAllUsers()})},e.prototype.loadAllUsers=function(){var e=this;this.userService.getAll().subscribe(function(t){e.users=t})},e=a([n.i(r.Component)({template:n(901)}),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.c&&o.c)&&t||Object])],e);var t}()},738:function(e,t,n){"use strict";var r=n(0),o=n(48),a=n(125);n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n,r){this.route=e,this.router=t,this.authenticationService=n,this.alertService=r,this.model={},this.loading=!1}return e.prototype.ngOnInit=function(){this.authenticationService.logout(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"},e.prototype.login=function(){var e=this;this.loading=!0,this.authenticationService.login(this.model.username,this.model.password).subscribe(function(t){e.router.navigate([e.returnUrl])},function(t){e.alertService.error(t),e.loading=!1})},e=i([n.i(r.Component)({template:n(902)}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.d&&o.d)&&t||Object,"function"==typeof(c="undefined"!=typeof o.b&&o.b)&&c||Object,"function"==typeof(u="undefined"!=typeof a.b&&a.b)&&u||Object,"function"==typeof(f="undefined"!=typeof a.a&&a.a)&&f||Object])],e);var t,c,u,f}()},739:function(e,t,n){"use strict";var r=n(0),o=n(48),a=n(125);n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n){this.router=e,this.userService=t,this.alertService=n,this.model={},this.loading=!1}return e.prototype.register=function(){var e=this;this.loading=!0,this.userService.create(this.model).subscribe(function(t){e.alertService.success("Registration successful",!0),e.router.navigate(["/login"])},function(t){e.alertService.error(t),e.loading=!1})},e=i([n.i(r.Component)({template:n(903)}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object,"function"==typeof(c="undefined"!=typeof a.c&&a.c)&&c||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object])],e);var t,c,u}()},740:function(e,t,n){"use strict";var r=n(0),o=n(48),a=n(18);n.n(a);n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){var t=this;this.router=e,this.subject=new a.Subject,this.keepAfterNavigationChange=!1,e.events.subscribe(function(e){e instanceof o.a&&(t.keepAfterNavigationChange?t.keepAfterNavigationChange=!1:t.subject.next())})}return e.prototype.success=function(e,t){void 0===t&&(t=!1),this.keepAfterNavigationChange=t,this.subject.next({type:"success",text:e})},e.prototype.error=function(e,t){void 0===t&&(t=!1),this.keepAfterNavigationChange=t,this.subject.next({type:"error",text:e})},e.prototype.getMessage=function(){return this.subject.asObservable()},e=i([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object])],e);var t}()},741:function(e,t,n){"use strict";var r=n(0),o=n(46),a=n(99);n.n(a);n.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e}return e.prototype.login=function(e,t){return this.http.post("/api/authenticate",JSON.stringify({username:e,password:t})).map(function(e){var t=e.json();t&&t.token&&localStorage.setItem("currentUser",JSON.stringify(t))})},e.prototype.logout=function(){localStorage.removeItem("currentUser")},e=i([n.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object])],e);var t}()},742:function(e,t,n){"use strict";var r=n(0),o=n(46);n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.http=e}return e.prototype.getAll=function(){return this.http.get("/api/users",this.jwt()).map(function(e){return e.json()})},e.prototype.getById=function(e){return this.http.get("/api/users/"+e,this.jwt()).map(function(e){return e.json()})},e.prototype.create=function(e){return this.http.post("/api/users",e,this.jwt()).map(function(e){return e.json()})},e.prototype.update=function(e){return this.http.put("/api/users/"+e.id,e,this.jwt()).map(function(e){return e.json()})},e.prototype.delete=function(e){return this.http.delete("/api/users/"+e,this.jwt()).map(function(e){return e.json()})},e.prototype.jwt=function(){var e=JSON.parse(localStorage.getItem("currentUser"));if(e&&e.token){var t=new o.Headers({Authorization:"Bearer "+e.token});return new o.RequestOptions({headers:t})}},e=a([n.i(r.Injectable)(),i("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Http&&o.Http)&&t||Object])],e);var t}()},743:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0}},897:function(e,t){e.exports='<div *ngIf="band">\n    <div>\n        <h3>Edit</h3>\n        <label>Image: </label>\n        <div><input [(ngModel)]="band.image" placeholder="image"></div>\n        <label>Name: </label>\n        <div><input [(ngModel)]="band.name" placeholder="name"></div>\n        <label>Genre: </label>\n        <div><input [(ngModel)]="band.genre" placeholder="genre"></div>\n        <label>Members: </label>\n        <div><input [(ngModel)]="band.members" placeholder="members"></div>\n        <label>Albums: </label>\n        <div><input [(ngModel)]="band.albums" placeholder="albums"></div>\n    </div>\n    <button type="button" (click)="onSelect(band)" >Save</button>\n</div>\n'},898:function(e,t){e.exports='<div *ngIf="band">\n    <img src="{{band.image}}" style="width:25%;height:25%;"/>\n    <h2>{{band.name}}</h2>\n    <div><label>Genre: </label>{{band.genre}}</div>        \n    <div><label>Members: </label>                \n    <li *ngFor="let m of band.members">{{m}}</li></div>\n    <div><label>Albums: </label>\n        <li *ngFor="let a of band.albums">{{a}}</li>\n    </div>\n    <button type="button" (click)="onSelect(band)" >Edit</button>\n    <my-band-edit [band]="currentBand"></my-band-edit>\n</div>'},899:function(e,t){e.exports='<ul class="items">\n    <li *ngFor="let b of bands" [class.selected] = "b === selectedBand" (click)="onSelect(b)">\n        <span class="badge">{{b.id}}</span> {{b.name}}\n    </li>\n</ul>'},900:function(e,t){e.exports="<div *ngIf=\"message\" [ngClass]=\"{ 'alert': message, 'alert-success': message.type === 'success', 'alert-danger': message.type === 'error' }\">{{message.text}}</div>"},901:function(e,t){e.exports='<div class="col-md-6 col-md-offset-3">\n    <h1>Hi {{currentUser.firstName}}!</h1>\n    <p><a [routerLink]="[\'/login\']">Logout</a></p>\n</div>'},902:function(e,t){e.exports='<div class="col-md-6 col-md-offset-3">\n    <h2>Login</h2>\n    <form name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !username.valid }">\n            <label for="username">Username</label>\n            <input type="text" class="form-control" name="username" [(ngModel)]="model.username" #username="ngModel" required />\n            <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>\n        </div>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !password.valid }">\n            <label for="password">Password</label>\n            <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required />\n            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>\n        </div>\n        <div class="form-group">\n            <button [disabled]="loading" class="btn btn-primary">Login</button>\n            <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />\n            <a [routerLink]="[\'/register\']" class="btn btn-link">Register</a>\n        </div>\n    </form>\n</div>\n'},903:function(e,t){e.exports='<div class="col-md-6 col-md-offset-3">\n    <h2>Register</h2>\n    <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !username.valid }">\n            <label for="firstName">First Name</label>\n            <input type="text" class="form-control" name="firstName" [(ngModel)]="model.firstName" #firstName="ngModel" required />\n            <div *ngIf="f.submitted && !firstName.valid" class="help-block">First Name is required</div>\n        </div>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !username.valid }">\n            <label for="lastName">Last Name</label>\n            <input type="text" class="form-control" name="lastName" [(ngModel)]="model.lastName" #lastName="ngModel" required />\n            <div *ngIf="f.submitted && !lastName.valid" class="help-block">Last Name is required</div>\n        </div>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !username.valid }">\n            <label for="username">Username</label>\n            <input type="text" class="form-control" name="username" [(ngModel)]="model.username" #username="ngModel" required />\n            <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>\n        </div>\n        <div class="form-group" [ngClass]="{ \'has-error\': f.submitted && !password.valid }">\n            <label for="password">Password</label>\n            <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required />\n            <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>\n        </div>\n        <div class="form-group">\n            <button [disabled]="loading" class="btn btn-primary">Register</button>\n            <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />\n            <a [routerLink]="[\'/login\']" class="btn btn-link">Cancel</a>\n        </div>\n    </form>\n</div>\n';
},942:function(e,t,n){e.exports=n(564)}},[942]);